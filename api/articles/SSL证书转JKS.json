{"title":"SSL证书转JKS","slug":"SSL证书转JKS","date":"2019-01-02T07:36:56.000Z","updated":"2019-01-02T07:43:50.709Z","comments":true,"path":"api/articles/SSL证书转JKS.json","excerpt":null,"covers":["https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.13.50.png","https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.17.25.png","https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.24.36.png"],"content":"<p>在Tomcat服务器中一般使用的是.jks文件来配置SSL加密，本文将介绍转为.jks格式文件的方法。</p>\n<p>首先得确保你的MAC电脑装有openssl和keytool</p>\n<p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.13.50.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 查看openssl版本</span><br><span class=\"line\">openssl version</span><br><span class=\"line\">// 确认已安装的openssl的版本和位置</span><br><span class=\"line\"><span class=\"built_in\">which</span> openssl</span><br><span class=\"line\">// brew安装openssl</span><br><span class=\"line\">brew install openssl</span><br><span class=\"line\">// brew更新openssl</span><br><span class=\"line\">brew upgrade openssl</span><br><span class=\"line\">// brew强制链接到openssl</span><br><span class=\"line\">brew link openssl --force</span><br></pre></td></tr></table></figure>\n<h2 id=\"PFX转JKS\"><a href=\"#PFX转JKS\" class=\"headerlink\" title=\"PFX转JKS\"></a>PFX转JKS</h2><p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.17.25.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//PFX---&gt;JKS  </span><br><span class=\"line\">keytool -importkeystore -srckeystore test.pfx -destkeystore test.jks -srcstoretype PKCS12 -deststoretype JKS  </span><br><span class=\"line\">//输入新的密钥</span><br></pre></td></tr></table></figure>\n<h2 id=\"CRT转JKS\"><a href=\"#CRT转JKS\" class=\"headerlink\" title=\"CRT转JKS\"></a>CRT转JKS</h2><p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.24.36.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//CRT---&gt;PFX  </span><br><span class=\"line\">openssl pkcs12 -<span class=\"built_in\">export</span> -inkey test1.key -<span class=\"keyword\">in</span> test.crt -out test.pfx  </span><br><span class=\"line\">//输入新的密钥  </span><br><span class=\"line\">//PFX---&gt;JKS  </span><br><span class=\"line\">keytool -importkeystore -srckeystore test.pfx -destkeystore test.jks -srcstoretype PKCS12 -deststoretype JKS  </span><br><span class=\"line\">//输入新的密钥</span><br></pre></td></tr></table></figure>","more":"<p>在Tomcat服务器中一般使用的是.jks文件来配置SSL加密，本文将介绍转为.jks格式文件的方法。</p>\n<p>首先得确保你的MAC电脑装有openssl和keytool</p>\n<p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.13.50.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 查看openssl版本</span><br><span class=\"line\">openssl version</span><br><span class=\"line\">// 确认已安装的openssl的版本和位置</span><br><span class=\"line\"><span class=\"built_in\">which</span> openssl</span><br><span class=\"line\">// brew安装openssl</span><br><span class=\"line\">brew install openssl</span><br><span class=\"line\">// brew更新openssl</span><br><span class=\"line\">brew upgrade openssl</span><br><span class=\"line\">// brew强制链接到openssl</span><br><span class=\"line\">brew link openssl --force</span><br></pre></td></tr></table></figure>\n<h2 id=\"PFX转JKS\"><a href=\"#PFX转JKS\" class=\"headerlink\" title=\"PFX转JKS\"></a>PFX转JKS</h2><p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.17.25.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//PFX---&gt;JKS  </span><br><span class=\"line\">keytool -importkeystore -srckeystore test.pfx -destkeystore test.jks -srcstoretype PKCS12 -deststoretype JKS  </span><br><span class=\"line\">//输入新的密钥</span><br></pre></td></tr></table></figure>\n<h2 id=\"CRT转JKS\"><a href=\"#CRT转JKS\" class=\"headerlink\" title=\"CRT转JKS\"></a>CRT转JKS</h2><p><img src=\"https://blogimg-1252809090.cos.ap-chengdu.myqcloud.com/SSL%3D%3EJKS/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-01-02%2015.24.36.png\" alt></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//CRT---&gt;PFX  </span><br><span class=\"line\">openssl pkcs12 -<span class=\"built_in\">export</span> -inkey test1.key -<span class=\"keyword\">in</span> test.crt -out test.pfx  </span><br><span class=\"line\">//输入新的密钥  </span><br><span class=\"line\">//PFX---&gt;JKS  </span><br><span class=\"line\">keytool -importkeystore -srckeystore test.pfx -destkeystore test.jks -srcstoretype PKCS12 -deststoretype JKS  </span><br><span class=\"line\">//输入新的密钥</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]}